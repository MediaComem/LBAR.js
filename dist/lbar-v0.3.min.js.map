{"version":3,"sources":["src/components/gps-position.js","src/components/faces-north.js","src/components/pitch-roll-look-controls.js"],"names":["AFRAME","registerSystem","schema","minAccuracy","type","default","minDistance","cam3DoF","init","this","checkDependencies","currentPosition","latitude","longitude","originPosition","_onDeviceGPS","bind","_onDeviceGPSError","_watchPosition","navigator","geolocation","watchPosition","enableHighAccuracy","timeout","video","data","el","sceneEl","is","_createVideo","_onEnterVrAr","_onExitVrAr","window","addEventListener","remove","_removeVideo","removeEventListener","clearWatch","update","oldData","Object","entries","length","let","success","console","error","_pauseVideo","_unPauseVideo","videoContainer","document","createElement","style","width","height","position","top","left","zIndex","setAttribute","mediaDevices","getUserMedia","audio","facingMode","then","stream","srcObject","appendChild","body","removeChild","pause","tracks","getTracks","forEach","track","stop","play","code","pos","coords","altitude","accuracy","_haversineDist","dispatchEvent","CustomEvent","detail","src","dest","dlongitude","THREE","Math","degToRad","dlatitude","a","sin","cos","atan2","sqrt","registerComponent","_onPositionSet","_onPositionUpdate","system","posEvt","haversineDist","gpsPos","x","y","getAttribute","z","alwaysInSynch","heading","_onDeviceOrientation","object3D","camPos","camera","event","alpha","absolute","newHeading","_computeCompassHeading","beta","gamma","_updateRotation","rotation","alphaRad","PI","betaRad","gammaRad","cA","sA","sB","cG","sG","rA","rB","compassHeading","atan","dependencies","enabled","magicWindowTrackingEnabled","pointerLockEnabled","reverseMouseDrag","reverseTouchDrag","touchEnabled","mouseEnabled","deltaYaw","previousHMDPosition","Vector3","hmdQuaternion","Quaternion","magicWindowAbsoluteEuler","Euler","magicWindowDeltaEuler","magicWindowObject","Object3D","deltaRotation","savedPose","pointerLocked","setupMouseControls","bindMethods","previousMouseEvent","setupMagicWindowControls","onEnterVR","magicWindowControls","utils","device","isMobile","isMobileDeviceRequestingDesktopSite","DeviceOrientationControls","DeviceOrientationEvent","requestPermission","components","permissionGranted","updateGrabCursor","set","removeEventListeners","addEventListeners","exitPointerLock","tick","t","updateOrientation","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onExitVR","onPointerLockChange","onPointerLockError","mouseDown","pitchObject","yawObject","add","canvasEl","canvas","checkHeadsetConnected","updateMagicWindowOrientation","setFromQuaternion","quaternion","previousMagicWindowYaw","evt","movementX","movementY","mozMovementX","mozMovementY","screenX","screenY","direction","max","min","button","showGrabbingCursor","requestPointerLock","mozRequestPointerLock","cursor","hideGrabbingCursor","touches","touchStart","pageX","pageY","touchStarted","deltaY","clientWidth","saveCameraPose","hasWebXR","matrixAutoUpdate","updateMatrix","restoreCameraPose","pointerLockElement","mozPointerLockElement","enableGrabCursor","classList","disableGrabCursor","copy","hasSavedPose"],"mappings":"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"}