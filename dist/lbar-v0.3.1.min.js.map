{"version":3,"sources":["src/components/gps-position.js","src/components/faces-north.js","src/components/pitch-roll-look-controls.js"],"names":["AFRAME","registerSystem","schema","minAccuracy","type","default","minDistance","cam3DoF","init","this","checkDependencies","currentPosition","latitude","longitude","originPosition","_onDeviceGPS","bind","_onDeviceGPSError","_watchPosition","navigator","geolocation","watchPosition","enableHighAccuracy","timeout","video","data","el","sceneEl","is","_createVideo","_onEnterVrAr","_onExitVrAr","window","addEventListener","remove","_removeVideo","removeEventListener","clearWatch","update","oldData","Object","entries","length","let","success","console","error","_pauseVideo","_unPauseVideo","videoContainer","document","createElement","style","width","height","position","top","left","zIndex","setAttribute","mediaDevices","getUserMedia","audio","facingMode","then","stream","srcObject","appendChild","body","removeChild","pause","tracks","getTracks","forEach","track","stop","play","code","pos","coords","altitude","accuracy","_haversineDist","dispatchEvent","CustomEvent","detail","src","dest","dlongitude","THREE","MathUtils","degToRad","dlatitude","a","Math","sin","cos","atan2","sqrt","registerComponent","_onPositionSet","_onPositionUpdate","system","posEvt","haversineDist","gpsPos","x","y","getAttribute","z","alwaysInSynch","heading","_onDeviceOrientation","object3D","camPos","camera","event","alpha","absolute","newHeading","_computeCompassHeading","beta","gamma","_updateRotation","rotation","alphaRad","PI","betaRad","gammaRad","cA","sA","sB","cG","sG","rA","rB","compassHeading","atan","dependencies","enabled","magicWindowTrackingEnabled","pointerLockEnabled","reverseMouseDrag","reverseTouchDrag","touchEnabled","mouseEnabled","deltaYaw","previousHMDPosition","Vector3","hmdQuaternion","Quaternion","magicWindowAbsoluteEuler","Euler","magicWindowDeltaEuler","magicWindowObject","Object3D","deltaRotation","savedPose","pointerLocked","setupMouseControls","bindMethods","previousMouseEvent","setupMagicWindowControls","onEnterVR","magicWindowControls","utils","device","isMobile","isMobileDeviceRequestingDesktopSite","DeviceOrientationControls","DeviceOrientationEvent","requestPermission","components","permissionGranted","updateGrabCursor","set","removeEventListeners","addEventListeners","exitPointerLock","tick","t","updateOrientation","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onExitVR","onPointerLockChange","onPointerLockError","mouseDown","pitchObject","yawObject","add","canvasEl","canvas","checkHeadsetConnected","updateMagicWindowOrientation","setFromQuaternion","quaternion","previousMagicWindowYaw","evt","movementX","movementY","mozMovementX","mozMovementY","screenX","screenY","direction","max","min","button","showGrabbingCursor","requestPointerLock","mozRequestPointerLock","cursor","hideGrabbingCursor","touches","touchStart","pageX","pageY","touchStarted","deltaY","clientWidth","saveCameraPose","hasWebXR","matrixAutoUpdate","updateMatrix","restoreCameraPose","pointerLockElement","mozPointerLockElement","enableGrabCursor","classList","disableGrabCursor","copy","hasSavedPose"],"mappings":"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"}